{"mtime":1368015663,"js":"(function() {\n  var body, footer, footer_menu, handle_click, handle_portfolio, header, hide_full_work, last_image, last_work, load_works_image, menu, pages, portfolio, works, works_image_buffer, wrapper;\n\n  body = $(\"body\");\n\n  menu = $(\"#menu\");\n\n  footer_menu = $(\"#mini-menu\");\n\n  header = $(\"#header\");\n\n  footer = $(\"#footer\");\n\n  wrapper = $(\"#wrapper\");\n\n  portfolio = $(\"#portfolio\");\n\n  works = portfolio.find(\"article\");\n\n  pages = wrapper.find(\"section\");\n\n  last_work = null;\n\n  last_image = $(\"#portfolio\").find(\"#work-view\");\n\n  works_image_buffer = {};\n\n  $(document).ready(function() {\n    menu.on(\"click\", \"a\", handle_click);\n    footer_menu.on(\"click\", \"a\", handle_click);\n    portfolio.on(\"click\", \"a.full-screen\", handle_portfolio);\n    last_image.on(\"click\", hide_full_work);\n    return load_works_image();\n  });\n\n  handle_click = function(e) {\n    var page, target, trigger;\n    trigger = $(e.currentTarget);\n    page = trigger.data(\"page\");\n    target = $(page);\n    menu.find(\"a\").removeClass(\"active\");\n    footer_menu.find(\"a\").removeClass(\"active\");\n    pages.addClass(\"hide\");\n    if (page === \"#about\") {\n      header.removeClass(\"hide\");\n      body.removeClass(\"mini-menu\");\n      wrapper.removeClass(\"small-header\");\n      footer.addClass(\"hide\");\n    } else {\n      header.addClass(\"hide\");\n      body.addClass(\"mini-menu\");\n      wrapper.addClass(\"small-header\");\n      footer.removeClass(\"hide\");\n    }\n    trigger.addClass(\"active\");\n    target.removeClass(\"hide\");\n    $(\"a[data-page=\" + page + \"]\").addClass(\"active\");\n    if (last_work) {\n      last_work.addClass(\"hide\");\n      last_work = null;\n    }\n    last_image.addClass(\"hide\");\n    return e.preventDefault();\n  };\n\n  handle_portfolio = function(e) {\n    var image, source_image, trigger;\n    trigger = $(e.currentTarget);\n    source_image = trigger.attr(\"href\");\n    image = works_image_buffer[source_image];\n    if (last_work) {\n      last_work.addClass(\"hide\");\n    }\n    last_image.html(image);\n    last_image.removeClass(\"hide\");\n    image.css(\"margin-top\", -(image.height() / 2 + 50) + \"px\");\n    last_work = trigger.parents(\"article\").children(\"header\");\n    last_work.removeClass(\"hide\");\n    return e.preventDefault();\n  };\n\n  load_works_image = function() {\n    works = works.find(\"a.full-screen\");\n    return works.each(function(k, e) {\n      var element, link;\n      link = $(e).attr(\"href\");\n      element = $(\"<img>\").attr(\"src\", link).addClass(\"full-screen\");\n      return works_image_buffer[link] = element;\n    });\n  };\n\n  hide_full_work = function(e) {\n    last_image.addClass(\"hide\");\n    return last_work.addClass(\"hide\");\n  };\n\n}).call(this);\n"}